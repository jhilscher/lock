<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
 
    <h:head>
		<ui:include src="/include/header.jsf" />
		
		<script>
		
		var managerShell = new sap.ui.ux3.Shell("managerShell", {
		    appTitle : "HANA Cloud App",
		    appIcon: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/ux3/demokit/images/SAPLogo.gif",
		    showFeederTool : false,
		    showInspectorTool : false,
		    showSearchTool : false,
		    showLogoutButton : true,
		    headerItems : [ new sap.ui.commons.TextView({
		        text : "{/userName}"
		    }),
		    new sap.ui.commons.Button({
				text:"Home",
				tooltip:"Home",
				press:function(oEvent){
					window.location = "/lock/";
				}
			})],
		    
		    
			logout: function(){
				logout();
			},
		});    
		
		
		var elements = [];
		
		 var title = new sap.ui.commons.TextView({
	            text : "LOCK Restricted",
	            design : sap.ui.commons.TextViewDesign.H1
	     });
		 
		 
		 var oImage = new sap.ui.commons.Image();
		 oImage.setSrc("/lock/ui5/Icon256.png");
		 
		 elements.push(title);
		 elements.push(new sap.ui.commons.HorizontalDivider());
		 //elements.push(oImage);
		 
		 // HTML TEXT
		 var sHtmlText = '<h2>Lock Sample App</h2>';
			sHtmlText+= 'this app will demonstrate the "lock" two-factor authentification (2FA).';
			sHtmlText += '<br />Some facts:';
			sHtmlText += '<ul><li>this app is running on HANA Cloud Platform</li><li>all sensitive data is hosted locally</li>';
			//sHtmlText += '<li>features 2048Bit RSA-Keys</li>';
			sHtmlText += '<li>to use 2FA get and register the Android lock app</li></ul>';

			
			var oFTV1 = new sap.ui.commons.FormattedTextView();
			//set the text with placeholders inside
			oFTV1.setHtmlText(sHtmlText);

			
			
			
		/* DEMO CONTENT */	
			
		 // create the row repeater control
                var oRowRepeater = new sap.ui.commons.RowRepeater("rr1");
                oRowRepeater.setNoData(new sap.ui.commons.TextView({text: "Sory, no data available!"}));

                // create test data
                var dataObject = { data : [
                                {lastName: "Platte", name: "Rudolf",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_PlatteR.jpg", gender: "male" , country: "US"},
                                {lastName: "Dwyer", name: "Nora",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_DwyerN.jpg", gender: "female" , country: "US"},
                                {lastName: "Wallace", name: "Alex",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_WallaceA.jpg", gender: "male", country:  "DE"},
                                {lastName: "Wang", name: "Megan",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_WangM.jpg", gender: "female", country: "US"},
                                {lastName: "Ingalls", name: "Barbara",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_IngallsB.jpg", gender: "female" , country: "US"},
                                {lastName: "Wallace", name: "Bruno",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_WallaceA.jpg", gender: "male", country: "US"},
                                {lastName: "Zar", name: "Lou", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_FieldJ.jpg", gender: "male", country:  "DE"},
                                {lastName: "Watson", name: "Mary",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_WatsonM.jpg", gender: "female", country: "US"},
                                {lastName: "Spring", name: "Sally", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_SpringS.jpg", gender: "female", country: "US"},
                                {lastName: "Schutt", name: "Doris", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_BaySu.jpg", gender: "female", country: "US"},
                                {lastName: "Nicols", name: "John", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_NicolsJ.jpg", gender: "male", country:  "FR"},
                                {lastName: "Gains", name: "Viola", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_GainsV.jpg", gender: "female", country:  "DE"},
                                {lastName: "Bay", name: "Sue",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_BaySu.jpg", gender: "female", country:  "FR"},
                                {lastName: "Smith", name: "John", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_SmithJo.jpg", gender: "male", country:  "CH"},
                                {lastName: "Gordon", name: "Randy", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_GordonR.jpg", gender: "male", country:  "DE"},
                                {lastName: "Schulz", name: "Justin", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_SchulzJ.jpg", gender: "male", country:  "DE"},
                                {lastName: "Time", name: "Tino", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_KentC.jpg", gender: "male", country: "US"},
                                {lastName: "East", name: "Jonathan", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_EastJ.jpg", gender: "male", country:  "FR"},
                                {lastName: "Poole", name: "Gene", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_GainsV.jpg", gender: "female", country:  "IT"},
                                {lastName: "Ander", name: "Corey", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_SchulzJ.jpg", gender: "male", country:  "CH"},
                                {lastName: "Early", name: "Brighton", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_FieldJ.jpg", gender: "male", country:  "FR"},
                                {lastName: "Noring", name: "Constance", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_WatsonM.jpg", gender: "female", country: "US"},
                                {lastName: "Miller", name: "Michael", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_MillerM.jpg", gender: "male", country:  "DE"},
                                {lastName: "Tress", name: "Matt", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_WatsonM.jpg", gender: "female", country: "US"},
                                {lastName: "Turner", name: "Pamela", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_RushJ.jpg", gender: "female", country:  "DE"},
                                {lastName: "Dente", name: "Al",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/i2.jpg", gender: "male", country: "US"},
                                {lastName: "Friese", name: "Andy", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/i3.jpg", gender: "male", country:  "DE"},
                                {lastName: "Mann", name: "Anita", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/i1.jpg", gender: "female", country:  "DE"},
                                {lastName: "Fisher", name: "Richard",  href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_FisherR.jpg", gender: "male", country: "US"},
                                {lastName: "Fuchs", name: "Peter", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/male_FuchsP.jpg", gender: "male", country:  "DE"},
                                {lastName: "Rush", name: "Joanne", href: "http://www.sap.com", src: "https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/persons/female_RushJ.jpg", gender: "female", country:  "DE"},],
                                        empty : []
                                };
              // Increase the number of the lines to more than 100


                // create JSON model
                var rModel = new sap.ui.model.json.JSONModel();
                rModel.setData(dataObject);
                sap.ui.getCore().setModel(rModel);


                //create title
                var oTitle = new sap.ui.core.Title({text:"Employees", icon:"https://sapui5.hana.ondemand.com/sdk/test-resources/sap/ui/commons/demokit/images/SAPLogo.gif", tooltip:"Employees"});

                // create filters
                var oFilter1 = new sap.ui.commons.RowRepeaterFilter("first_filter",{text:"All Countries"});
                var oFilter2 = new sap.ui.commons.RowRepeaterFilter("second_filter",{text:"Germany",filters:[new sap.ui.model.Filter("country","EQ", "DE")],tooltip:"Show Employees working in Germany"});
                var oFilter3 = new sap.ui.commons.RowRepeaterFilter("third_filter",{text:"USA",filters:[new sap.ui.model.Filter("country", "EQ","US")],tooltip:"Show Emloyees working in USA"});

                // create sorters
                var oSorter1 = new sap.ui.commons.RowRepeaterSorter("third_sorter",{text:"Country",sorter:new sap.ui.model.Sorter("country",true),tooltip:"Sort By Country"});
                var oSorter2 = new sap.ui.commons.RowRepeaterSorter("first_sorter",{text:"Gender",sorter:new sap.ui.model.Sorter("gender",false),tooltip:"Sort By Gender"});
                var oSorter3 = new sap.ui.commons.RowRepeaterSorter("second_sorter",{text:"Last Name",sorter:new sap.ui.model.Sorter("lastName",false)});

                //add title
                oRowRepeater.setTitle(oTitle);

                //add filters and sorters
                oRowRepeater.addFilter(oFilter1);
                oRowRepeater.addFilter(oFilter2);
                oRowRepeater.addFilter(oFilter3);

                oRowRepeater.addSorter(oSorter1);
                oRowRepeater.addSorter(oSorter2);
                oRowRepeater.addSorter(oSorter3);

                //configure the RowRepeater
                oRowRepeater.setDesign("Standard");
                oRowRepeater.setNumberOfRows(5);
                oRowRepeater.setCurrentPage(1);
                oRowRepeater.setTitle(oTitle);



                //create the template control that will be repeated and will display the data
                var oRowTemplate = new sap.ui.commons.layout.MatrixLayout("theMatrix");

                var  matrixRow, matrixCell, control;
                // main matrix
                oRowTemplate.setWidth("70%");
                // main row
                matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
                //image
                control = new sap.ui.commons.Image();
                control.setHeight("60px");
                control.setWidth("50px");
                control.bindProperty("src","src");
                matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
                matrixCell.addContent(control);
                matrixRow.addCell(matrixCell);

                //label 1
                control = new sap.ui.commons.Label();
                control.bindProperty("text","lastName");
                matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
                matrixCell.addContent(control);
                matrixRow.addCell(matrixCell);

                //label 2
                control = new sap.ui.commons.Label();
                control.bindProperty("text","name");
                matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
                matrixCell.addContent(control);
                matrixRow.addCell(matrixCell);

                //label 3
                control = new sap.ui.commons.Label();
                control.bindProperty("text","country");
                matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
                matrixCell.addContent(control);
                matrixRow.addCell(matrixCell);

                //link
                control = new sap.ui.commons.Link();
                control.bindProperty("text","href");
                matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
                matrixCell.addContent(control);
                matrixRow.addCell(matrixCell);
                // add row to matrix
                oRowTemplate.addRow(matrixRow);


				// oRowTemplate
                //attach data to the RowRepeater
                oRowRepeater.bindRows("/data", oRowTemplate);
        		oRowRepeater.setModel(rModel);
                
                //oRowRepeater.placeAt("sample1");
			
			
			
			
		 
		// MATRIX
		var oMatrix = new sap.ui.commons.layout.MatrixLayout({layoutFixed: true, width: '800px', columns: 2});
		oMatrix.setWidths('270px', '430px');

		oMatrix.createRow(oImage, oRowRepeater);
		 
		//elements.push(oMatrix);
		elements.push(oRowRepeater);
		
		managerShell.setContent(elements, true);
		
		
		loadUserData();
		
		sap.ui.localResources("ui5");
		managerShell.placeAt("shellArea");

		</script>
		
    </h:head>
    
     <h:body class="sapUiBody"  role="application">

		<div id="shellArea"></div>
    
    </h:body>
    
</html>